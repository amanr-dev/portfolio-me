---
interface Props {
  name: string;
  url: string;
  githubUrl: string;
  image: string;
  desc: string;
  tech: Array<string>;
}
import { Github } from "../utils/exportImages";

const { name, url, image, desc, tech, githubUrl } = Astro.props;
---

<div
  class="flex flex-col shadow-lg rounded-lg dark:bg-darkSm bg-light overflow-hidden hover:shadow-xl transition-shadow duration-300 ease-in-out"
>
  <div class="h-[200px] w-full overflow-hidden">
    <a
      href={url}
      target="_blank"
      rel="noopener noreferrer"
      class="w-full h-full"
    >
      <img
        class="w-full h-full object-fill transform hover:scale-105 transition-transform duration-300"
        src={image}
        alt={`${name}-screenshot`}
      />
    </a>
  </div>
  <div class="px-4 flex flex-col justify-between">
    <div class="w-full mt-2">
      <div
        class="cursor-pointer flex w-full flex-row justify-between items-center"
      >
        <span
          class="hover:text-blueDark text-blue-500 transition-all ease-in duration-300 flex flex-row items-center justify-center gap-1"
        >
          <a href={url} target="_blank" rel="noopener noreferrer">
            {name}
          </a>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="22"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-external-link"
            ><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path
              d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
            ></path></svg
          >
        </span>
        {
          githubUrl && (
            <span>
              <a
                href={githubUrl}
                target="_blank"
                rel="noopener noreferrer"
                class="hover:text-blueDark transition-all ease-in duration-300"
              >
                <img
                  src={Github.src}
                  title="github link"
                  class="w-6 h-6"
                  alt="Github Icon"
                />
              </a>
            </span>
          )
        }
      </div>

      <div
        class="mb-4 dark:text-light text-sm"
        set:html={desc.length > 100 ? `${desc.slice(0, 100)}...` : desc}
      />
      <div
        class="flex
          items-center
          justify-between
          gap-4
          w-full"
      >
        <div class="flex flex-wrap items-center justify-start gap-4 mb-4 w-3/4">
          {
            tech.map((item) => (
              <div
                class={`${item === "sanity" ? "w-14" : "w-8"} inline-block h-8`}
              >
                <img
                  src={`/assets/icons/${item}.svg`}
                  alt={`${item}-logo`}
                  class={`object-fill w-full h-full`}
                  title={item}
                />
              </div>
            ))
          }
        </div>
        <div class="w-1/4 flex items-center justify-end mb-4">
          <span>
            <!-- <a
              href={url}
              target="_blank"
              rel="noopener noreferrer"
              class="text-xl font-semibold hover:underline"
            >
              <img
                src="/icons/github.svg"
                class="w-8"
                alt={`${name}'s github link`}
              />
            </a> -->
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
